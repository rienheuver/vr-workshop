<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>VR-workshop</title>
    <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
    

    <script>
      AFRAME.registerComponent('size-on-click', {
        schema: {
          scale: { default: "5"}
        },
        init: function() {
          const el = this.el;
          const data = this.data;
          el.addEventListener('click', function() {
            el.setAttribute('scale', {x: data.scale, y: data.scale, z: data.scale});

            setTimeout(function() {
            el.setAttribute('scale', { x: 1, y: 1, z: 1 });
          }, 1000);
          });
        }
      });
    </script>
  </head>
  <body>
    <a-scene>
      <a-box
        class="clickable"
        color="red"
        position="-2 2 -5"
        rotation="0 45 45"
        scale="1 1 1"
        size-on-click="scale: 2"
      ></a-box>

      <a-box
        class="clickable"
        color="green"
        position="2 2 -5"
        rotation="0 45 45"
        scale="1 1 1"
        size-on-click="scale: 3"
      ></a-box>

      <a-box
        class="clickable"
        color="blue"
        position="0 4 -5"
        rotation="0 45 45"
        scale="1 1 1"
        size-on-click
      ></a-box>

      <a-sky color="#222"></a-sky>

      <a-camera>
        <a-entity
          animation__click="property: scale; startEvents: click; easing: easeInCubic; dur: 150; from: 0.1 0.1 0.1; to: 1 1 1"
          animation__fusing="property: scale; startEvents: fusing; easing: easeInCubic; dur: 1500; from: 1 1 1; to: 0.1 0.1 0.1"
          animation__mouseleave="property: scale; startEvents: mouseleave; easing: easeInCubic; dur: 500; to: 1 1 1"
          cursor="fuse: true;"
          raycaster="objects: .clickable"
          material="color: cyan; shader: flat"
          position="0 0 -3"
          geometry="primitive: ring; radiusInner: 0.05; radiusOuter: 0.06"
        ></a-entity>
      </a-camera>
    </a-scene>
  </body>
</html>
